+++
date = '2026-01-19T14:39:28+08:00'
draft = false
title = 'Week05'
toc = true
tocBorder = true
+++
# 消息队列
## 是什么？
消息队列（Message Queue, MQ）是一种中间件，允许应用程序之间进行异步通信，存储消息（数据包），实现解耦、异步处理、流量削峰（缓冲高并发），确保数据在生产者和消费者之间可靠传递，是分布式系统中的核心组件。常见的消息队列有RabbitMQ、Kafka和RockerMQ。

简单说，消息队列就是一个存放消息的容器，当我们消费消息时，直接从容器中取出即可。由于队列是一种先进先出的数据结构，所以消费消息的时也是按照顺序进行的。

参与消息传递的双方成为**生产者**和**消费者**，生产者负责发送消息，消费者负责处理消息。

## 能干什么？
通常来说，使用消息队列主要能为我们实现：
1. 异步处理
2. 削峰/限流
3. 降低系统耦合性
4. 顺序保证
5. 分布式事务
6. 数据流处理
7. ...

## 可能带来的问题
1. 系统可用性降低：系统可用性在某种程度上降低，在加入消息队列后，可能会遇到消息丢失或者MQ挂掉的问题
2. 系统复杂性提高：系统加入消息队列无疑会增加复杂度，出MQ本身还要去处理消息重复消费、消息丢失、消息传递的顺序性等问题
3. 一致性问题：消息队列带来的异步确实可以提高系统的响应速度，不过也会带来一致性问题，比如消息的真正消费者并没有正确消费消息
