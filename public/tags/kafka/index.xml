<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Kafka on Feiesos&#39; blog</title>
    <link>http://localhost:1313/tags/kafka/</link>
    <description>Recent content in Kafka on Feiesos&#39; blog</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 21 Dec 2025 13:21:24 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/kafka/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Kafka快速入门</title>
      <link>http://localhost:1313/posts/third/</link>
      <pubDate>Sun, 21 Dec 2025 13:21:24 +0800</pubDate>
      <guid>http://localhost:1313/posts/third/</guid>
      <description>&lt;h2 id=&#34;简单介绍kafka&#34;&gt;简单介绍Kafka&lt;/h2&gt;&#xA;&lt;p&gt;Kafka是分布式系统，通常以集群的方式部署。&lt;/p&gt;&#xA;&lt;p&gt;也就是说会同时存在多个Kafka实例（Broker），这些实例一般部署在不同服务器上。&lt;/p&gt;&#xA;&lt;p&gt;稍后将讲解。&lt;/p&gt;&#xA;&lt;p&gt;Kafka最初就是为了解决大数据的实时日志流而生的，它被用来处理每天千亿规模的日志量级。&lt;/p&gt;&#xA;&lt;p&gt;相比RocketMQ和RabbitMQ等消息队列，Kafka的核心优势就是吞吐量大，能达到17.3w/s，相比之下RocketMQ只有11.6w/s，RabbitMQ只有5.95w/s，因此Kafka十分适合大规模、高吞吐的应用场景。&lt;/p&gt;&#xA;&lt;p&gt;RabbitMQ和RocketMQ虽然性能不如Kafka，但是功能完善还有其他方面的优点，比如RocketMQ各方面最均衡、RabbitMQ运维成本低等。&lt;/p&gt;&#xA;&lt;p&gt;下面我们绘制一个表格简单对比这三个数据库：&lt;/p&gt;&#xA;&lt;h2 id=&#34;kafka的基本概念&#34;&gt;Kafka的基本概念&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;topic，主题，是消息归类的基本单元&lt;/li&gt;&#xA;&lt;li&gt;partitions，消息分区，通过偏移量offset来置顶消息的位置，是实现消息的分布式管理的核心机制&lt;/li&gt;&#xA;&lt;li&gt;replicas，分区副本，每个分区可以有多个副本，一个leader（读写）多个follower（拷贝）&lt;/li&gt;&#xA;&lt;li&gt;broker，集群，Kafka由一个或多个broker组成集群，每一个broker就是一个Kafka实例&lt;/li&gt;&#xA;&lt;li&gt;ZooKeeper，协调多个broker，存储元数据&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h3 id=&#34;主题和分区topicpartitions&#34;&gt;主题和分区（Topic&amp;amp;Partitions）&lt;/h3&gt;&#xA;&lt;p&gt;在Kafka中要实现消息的发送与订阅，必须首先创建Topic。&lt;br&gt;&#xA;因为Topic是Kafka进行消息归类的基本单元。Topic接收生产者发布的消息，并将消息转发给消费者。&lt;br&gt;&#xA;比如：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; -----------------                -------------------                 -----------------&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| Producer(生产者)| ==发送消息==&amp;gt; |      [Topic]     | &amp;lt;==订阅消息== |Consumer(消费者) |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; -----------------                |     Kafka实例    |                -----------------&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                                  -------------------&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Netdisk项目技术说明（面向实现）</title>
      <link>http://localhost:1313/posts/second/</link>
      <pubDate>Fri, 12 Dec 2025 21:04:52 +0800</pubDate>
      <guid>http://localhost:1313/posts/second/</guid>
      <description>&lt;h2 id=&#34;技术栈固定约定&#34;&gt;技术栈（固定约定）&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;后端：Spring Boot4 (Java 17), Maven&lt;/li&gt;&#xA;&lt;li&gt;MongoDB：文件元数据 / 目录树&lt;/li&gt;&#xA;&lt;li&gt;MySQL：用户 / 权限 / 强一致业务（可选）&lt;/li&gt;&#xA;&lt;li&gt;Redis：缓存、Token、进度、锁、队列&lt;/li&gt;&#xA;&lt;li&gt;存储：MinIO (S3 API) / 本地磁盘（开发）&lt;/li&gt;&#xA;&lt;li&gt;异步队列：Redis Streams / Kafka&lt;/li&gt;&#xA;&lt;li&gt;运维：Docker Compose / Kubernetes，Prometheus + Grafana，ELK/Loki 日志&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;主数据模型mongodb-文档示例&#34;&gt;主数据模型（MongoDB 文档示例）&lt;/h2&gt;&#xA;&lt;p&gt;每个文件或目录一条文档（&lt;code&gt;files&lt;/code&gt; 集合）：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;_id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ObjectId(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;)&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;fileId&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;uuid-1234&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;userId&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;uid1&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;parentId&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;uuid-parent&amp;#34;&lt;/span&gt;,      &lt;span style=&#34;color:#75715e&#34;&gt;// &amp;#34;root&amp;#34; 表示根目录&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;简历.pdf&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;FILE&amp;#34;&lt;/span&gt;,                 &lt;span style=&#34;color:#75715e&#34;&gt;// FILE | DIR&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;size&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;102400&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;hash&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md5sha1&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;storagePath&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;s3://bucket/objpath&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;status&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;MERGED&amp;#34;&lt;/span&gt;,             &lt;span style=&#34;color:#75715e&#34;&gt;// UPLOADING | MERGING | MERGED | DELETED&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;chunks&amp;#34;&lt;/span&gt;: {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;total&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;256&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;chunkSize&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  },&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;meta&amp;#34;&lt;/span&gt;: { &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;...&lt;/span&gt; },                &lt;span style=&#34;color:#75715e&#34;&gt;// tags, version 等扩展字段&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;createdAt&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ISODate&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;updatedAt&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ISODate&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;索引建议&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
